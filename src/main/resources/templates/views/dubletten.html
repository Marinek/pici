<html xmlns:th="https://www.thymeleaf.org">

<head></head>

<body>

	<div th:fragment="content">

		<div class="container-fluid">
			<div class="row">
				<div class="col-md-12">
					<div class="bgc-white bd bdrs-3 p-20 mB-20">
						<h4 class="c-grey-900 mB-20">Doppelte Fotos</h4>
						<table id="myTable" class="table table-striped table-bordered"
							cellspacing="0" width="100%">
							<thead>
								<tr>
									<th>#</th>
									<th>Dateiname</th>
									<th>Verzeichnis</th>
									<th>Vorschau</th>
									<th>Aktionen</th>
								</tr>
							</thead>

						</table>
					</div>
				</div>
			</div>

			<script>
				$(document)
						.ready(
								function() {
									$('#myTable')
											.DataTable(
													{
														"processing" : true,
														"serverSide" : true,
														"searching" : false,
														"info" : true,
														"ajax" : {
															"url" : "duplicates",
															"dataSrc" : "content",
															"dataFilter" : function(
																	data) {
																var json = jQuery
																		.parseJSON(data);
																json.recordsTotal = json.totalElements;
																json.recordsFiltered = json.totalElements;
																json.data = json.data;

																return JSON
																		.stringify(json); // return JSON string
															}
														},
														"columns" : [
																{
																	"data" : "id"
																},
																{
																	"data" : "fileName",
																	"render" : function(
																			data,
																			type,
																			row) {

																		if (type === 'display') {

																			if (row.resolved === true) {
																				data += '<span class="badge rounded-pill fl-r bg-success lh-0 p-10">Erledigt</span>';
																			}

																			if (row.original === true) {
																				data += '<span class="badge rounded-pill fl-r  bg-info  lh-0 p-10">Original</span>';
																			}

																			data
																		}

																		return data;
																	}

																},
																{
																	"data" : "directory.pathName"
																},
																{
																	"data" : "id",
																	render : function(
																			data,
																			type) {
																		if (type === 'display') {

																			return '<img height="50" width="50" src="image/'  +data + '"/>';
																		}

																		return data;
																	}
																},
																{
																	"data" : "id"
																} ]

													});
								});
			</script>
		</div>

	</div>
</body>
</html>